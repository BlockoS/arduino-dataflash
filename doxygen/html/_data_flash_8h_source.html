<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>arduino-dataflash: DataFlash.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">arduino-dataflash
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_data_flash_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">DataFlash.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_data_flash_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/**************************************************************************/</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#ifndef DATAFLASH_H_</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define DATAFLASH_H_</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &lt;inttypes.h&gt;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_data_flash_sizes_8h.html" title="Header file containing definitions for the sizes of the flash memories in the Atmel Dataflash AT45DB ...">DataFlashSizes.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &lt;SPI.h&gt;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#ifdef AT45_CHIP_ERASE_ENABLED</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#undef AT45_CHIP_ERASE_ENABLED</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#ifdef AT45_USE_SPI_SPEED_CONTROL</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#undef AT45_USE_SPI_SPEED_CONTROL</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="code" href="group___p_i_n_o_u_t.html#ga6fe8edd9787bab98c17db48df46033cb">   92</a></span>&#160;<span class="preprocessor">#define AT45_SS_PIN     10</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="code" href="group___p_i_n_o_u_t.html#gab98fe0444f654878775a522313a0e50b">   94</a></span>&#160;<span class="preprocessor">#define AT45_RESET_PIN  -1</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="code" href="group___p_i_n_o_u_t.html#gac4e3510f115ee550d584d9ac0798b50d">   96</a></span>&#160;<span class="preprocessor">#define AT45_WP_PIN     -1</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="code" href="group___s_t_a_t_u_s___r_e_g_i_s_t_e_r___f_o_r_m_a_t.html#ga58a15f9cc926d4a45ddd4e19ad66e1b9">  113</a></span>&#160;<span class="preprocessor">#define AT45_READY 0x80</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="code" href="group___s_t_a_t_u_s___r_e_g_i_s_t_e_r___f_o_r_m_a_t.html#gaaee06e4e23ca0cac0b50aaca31d76179">  120</a></span>&#160;<span class="preprocessor">#define AT45_COMPARE 0x40</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="code" href="group___s_t_a_t_u_s___r_e_g_i_s_t_e_r___f_o_r_m_a_t.html#gae97508f6e11c23c72983cc0df9b0e8cb">  128</a></span>&#160;<span class="preprocessor">#define AT45_PROTECT 0x02</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00134"></a><span class="lineno"><a class="code" href="group___s_t_a_t_u_s___r_e_g_i_s_t_e_r___f_o_r_m_a_t.html#ga363df50ea95a1c073fa9a6ceeecb129a">  134</a></span>&#160;<span class="preprocessor">#define AT45_PAGESIZE_PWR2 0x01</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00143"></a><span class="lineno"><a class="code" href="group___s_t_a_t_u_s___r_e_g_i_s_t_e_r___f_o_r_m_a_t.html#ga475b0d14ba2e141f1d8bf44f07ce575c">  143</a></span>&#160;<span class="preprocessor">#define AT45_SIZE_CODE 0x2C</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00168"></a><span class="lineno"><a class="code" href="group___s_p_e_c_i_f_i_c___s_e_c_t_o_r_s.html#gaa44ff268761faba068002c0c9a247bea">  168</a></span>&#160;<span class="preprocessor">#define AT45_SECTOR_0A  0</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="code" href="group___s_p_e_c_i_f_i_c___s_e_c_t_o_r_s.html#ga7413842840c2f13edac6295660238499">  172</a></span>&#160;<span class="preprocessor">#define AT45_SECTOR_0B -1</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00181"></a><span class="lineno"><a class="code" href="class_data_flash.html">  181</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_data_flash.html" title="AT45DBxxxD Atmel Dataflash device.">DataFlash</a></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;{</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00189"></a><span class="lineno"><a class="code" href="struct_data_flash_1_1_i_d.html">  189</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="struct_data_flash_1_1_i_d.html" title="ID structure.">ID</a></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        {</div>
<div class="line"><a name="l00191"></a><span class="lineno"><a class="code" href="struct_data_flash_1_1_i_d.html#a29266387519b09bc9294d9373412b8fb">  191</a></span>&#160;            uint8_t <a class="code" href="struct_data_flash_1_1_i_d.html#a29266387519b09bc9294d9373412b8fb" title="Manufacturer id.">manufacturer</a>;       </div>
<div class="line"><a name="l00192"></a><span class="lineno"><a class="code" href="struct_data_flash_1_1_i_d.html#a6d4a17a0ae14cdcaa1059244bea7ba78">  192</a></span>&#160;            uint8_t <a class="code" href="struct_data_flash_1_1_i_d.html#a6d4a17a0ae14cdcaa1059244bea7ba78" title="Device id.">device</a>[2];          </div>
<div class="line"><a name="l00193"></a><span class="lineno"><a class="code" href="struct_data_flash_1_1_i_d.html#a282b31603269c44f2ac468a87ba23175">  193</a></span>&#160;            uint8_t <a class="code" href="struct_data_flash_1_1_i_d.html#a282b31603269c44f2ac468a87ba23175" title="Extended device information string length.">extendedInfoLength</a>; </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        };</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div>
<div class="line"><a name="l00201"></a><span class="lineno"><a class="code" href="class_data_flash.html#a1ff2b1d071a8fbf2ef180f747a6225d9">  201</a></span>&#160;        <span class="keyword">enum</span> <a class="code" href="class_data_flash.html#a1ff2b1d071a8fbf2ef180f747a6225d9" title="Erase mode.">erasemode</a></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        {</div>
<div class="line"><a name="l00203"></a><span class="lineno"><a class="code" href="class_data_flash.html#a1ff2b1d071a8fbf2ef180f747a6225d9ae49cdf8295a726d05aeff35eb98ccc1d">  203</a></span>&#160;            <a class="code" href="class_data_flash.html#a1ff2b1d071a8fbf2ef180f747a6225d9ae49cdf8295a726d05aeff35eb98ccc1d" title="Pages are erased automatically.">ERASE_AUTO</a>,             </div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="code" href="class_data_flash.html#a1ff2b1d071a8fbf2ef180f747a6225d9a1108d231c5eb10eb500921b74d1e5209">  204</a></span>&#160;            <a class="code" href="class_data_flash.html#a1ff2b1d071a8fbf2ef180f747a6225d9a1108d231c5eb10eb500921b74d1e5209" title="Pages are erased by the user first.">ERASE_MANUAL</a>            </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        };</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div>
<div class="line"><a name="l00214"></a><span class="lineno"><a class="code" href="class_data_flash.html#a1ee9e8505f641255b5369299595dcc65">  214</a></span>&#160;        <span class="keyword">enum</span> <a class="code" href="class_data_flash.html#a1ee9e8505f641255b5369299595dcc65" title="IO speed.">IOspeed</a></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        {</div>
<div class="line"><a name="l00216"></a><span class="lineno"><a class="code" href="class_data_flash.html#a1ee9e8505f641255b5369299595dcc65a5cb784b714b5336d4ba1a850548e25a4">  216</a></span>&#160;            <a class="code" href="class_data_flash.html#a1ee9e8505f641255b5369299595dcc65a5cb784b714b5336d4ba1a850548e25a4" title="Low speed transfers up to 33MHz.">SPEED_LOW</a>,              </div>
<div class="line"><a name="l00217"></a><span class="lineno"><a class="code" href="class_data_flash.html#a1ee9e8505f641255b5369299595dcc65a9334d0b48232c2441722d7a83d8e0535">  217</a></span>&#160;            <a class="code" href="class_data_flash.html#a1ee9e8505f641255b5369299595dcc65a9334d0b48232c2441722d7a83d8e0535" title="High speed transfers up to 66MHz.">SPEED_HIGH</a>              </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        };</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <a class="code" href="group___a_t45_d_bxxx_d.html#gad4000eb3fc77bb07bbdacb3c3ca86066" title="Constructor.">DataFlash</a>();</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <a class="code" href="group___a_t45_d_bxxx_d.html#gae8579da268fdad6bb61c6e99341d287d" title="Destructor.">~DataFlash</a>();</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="group___a_t45_d_bxxx_d.html#ga419559837884f4a00280452d16077e33" title="Set pin use, with defaults for reset and write-protect if not specified as argument.">setup</a>(int8_t csPin, int8_t <a class="code" href="group___a_t45_d_bxxx_d.html#gaa928ae16c2d143141c41311be0b36935" title="Get reset (RESET) pin.">resetPin</a>=<a class="code" href="group___p_i_n_o_u_t.html#gab98fe0444f654878775a522313a0e50b" title="Reset (Reset)">AT45_RESET_PIN</a>, int8_t wpPin=<a class="code" href="group___p_i_n_o_u_t.html#gac4e3510f115ee550d584d9ac0798b50d" title="Write protect (WP)">AT45_WP_PIN</a>);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="group___a_t45_d_bxxx_d.html#ga19c39b4642238fe0eb7c1a63704fda1b" title="Initialise SPI interface for use with the Dataflash, allowing shared use with other SPI devices (whic...">begin</a>();</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="group___a_t45_d_bxxx_d.html#ga60f066255f2a33f7ac1cb86cf9851a99" title="Restore SPI configuration, so it can be used by other SPI devices.">end</a>();</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___a_t45_d_bxxx_d.html#ga9a9bc05a70045b2fdfb1be1e626e6498" title="Enable (select) Dataflash.">enable</a>();</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___a_t45_d_bxxx_d.html#ga9e43983108872592cbcf5b81161d1637" title="Disable (deselect) Dataflash.">disable</a>();</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="group___a_t45_d_bxxx_d.html#gaf89333c1976f0ca33d3bf1cd4587b2d9" title="Disable (deselect) Dataflash, then enable (select) it again.">reEnable</a>();</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="group___a_t45_d_bxxx_d.html#ga97dd684f1a476fc2b06458f28b0f2dc7" title="Set erase mode to automatic (default).">autoErase</a>();</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        </div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="group___a_t45_d_bxxx_d.html#gaa3d91da80641c0f5f59e96ef7a26a8d8" title="Set erase mode to manual.">manualErase</a>();</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="preprocessor">#ifdef AT45_USE_SPI_SPEED_CONTROL</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keywordtype">void</span> setTransferSpeed(<a class="code" href="class_data_flash.html#a1ee9e8505f641255b5369299595dcc65" title="IO speed.">IOspeed</a> rate);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <a class="code" href="class_data_flash.html#a1ee9e8505f641255b5369299595dcc65" title="IO speed.">IOspeed</a> getTransferSpeed() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="preprocessor">#endif // AT45_USE_SPI_SPEED_CONTROL</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        uint8_t <a class="code" href="group___a_t45_d_bxxx_d.html#gae4d86013ea2fd877f12c5df1400a42cd" title="Return whether the chip has completed the current operation and is ready for the next.">isReady</a>();</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="group___a_t45_d_bxxx_d.html#gaa8ecee7a6d9a2cd02883d294bd4edf1b" title="Wait until the chip is ready.">waitUntilReady</a>();</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___a_t45_d_bxxx_d.html#ga679b3aec5d6fa15de80387a78c704786" title="Same as waitUntilReady.">endAndWait</a>();</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        uint8_t <a class="code" href="group___a_t45_d_bxxx_d.html#ga95c279ec0681684fa6a3dd55e73254cd" title="Read status register.">status</a>();</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="group___a_t45_d_bxxx_d.html#ga4848a718ce8d444ef4be2de9d676a1dc" title="Read Manufacturer and Device ID.">readID</a>(<a class="code" href="struct_data_flash_1_1_i_d.html" title="ID structure.">DataFlash::ID</a> &amp;<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="group___a_t45_d_bxxx_d.html#ga038a95ca2a41f2e62843fd98ae3380de" title="A main memory page read allows the user to read data directly from any one of the pages in the main m...">pageRead</a>(uint16_t page, uint16_t offset=0);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="group___a_t45_d_bxxx_d.html#ga711966e9c71dcd64819c099b6f5b6155" title="Sequentially read a continuous stream of data at the currently set speed.">arrayRead</a>(uint16_t page, uint16_t offset=0);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="group___a_t45_d_bxxx_d.html#gaceac70c56c35aa5ecb1b1e008ff1991b" title="Read the content of one of the SRAM data buffer at the currently set speed.">bufferRead</a>(uint8_t bufferNum, uint16_t offset=0);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="group___a_t45_d_bxxx_d.html#ga8786893836520501390c39c912c7fc2c" title="Write data to one of the SRAM data buffers at the currently set speed.">bufferWrite</a>(uint8_t bufferNum, uint16_t offset);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="group___a_t45_d_bxxx_d.html#gad847ebabc46f56263950f6029f9a645a" title="Transfer data from buffer 0 or 1 to a main memory page, erasing the page first if auto-erase is set...">bufferToPage</a>(uint8_t bufferNum, uint16_t page);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="group___a_t45_d_bxxx_d.html#ga780027407892ce7b08c47313c8e5f850" title="Transfer a page of data from main memory to buffer 0 or 1.">pageToBuffer</a>(uint16_t page, uint8_t bufferNum);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="group___a_t45_d_bxxx_d.html#ga3cf2146bf1a6a4e4c5d9ac8354d4a3b0" title="Erase a page in the main memory array.">pageErase</a>(uint16_t page);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="group___a_t45_d_bxxx_d.html#ga2a71cef9d15010baf1c072af1396cd59" title="Erase a block of pages in a single operation.">blockErase</a>(uint16_t block);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="group___a_t45_d_bxxx_d.html#ga278bd90e8cad06d07f69cbecfbc399e1" title="Erase a sector of blocks in a single operation.">sectorErase</a>(int8_t sector);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="preprocessor">#ifdef AT45_CHIP_ERASE_ENABLED</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <span class="keywordtype">void</span> chipErase();</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="group___a_t45_d_bxxx_d.html#ga26c112be5521c56986b75ab34cc80bfa" title="This a combination of Buffer Write and Buffer to Page with Built-in Erase.">beginPageWriteThroughBuffer</a>(uint16_t page, uint16_t offset, uint8_t bufferNum);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        int8_t <a class="code" href="group___a_t45_d_bxxx_d.html#gaf685c54f05fd3b7730fe5d9981121373" title="Compare a page of data in main memory to the data in buffer 0 or 1.">isPageEqualBuffer</a>(uint16_t page, uint8_t bufferNum);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="group___a_t45_d_bxxx_d.html#gacedebfa7c5e0f59e2993c7ae74c71166" title="Put the device into the lowest power consumption mode.">deepPowerDown</a>();</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="group___a_t45_d_bxxx_d.html#gae14aa9d16c1327638df17c6feb02a1ff" title="Takes the device out of Deep Power-down mode.">resumeFromDeepPowerDown</a>();</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="group___a_t45_d_bxxx_d.html#gaa82d71785de36bf50aadef64e2032753" title="Reset device via the reset pin.">hardReset</a>();</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___a_t45_d_bxxx_d.html#ga28f646814c46e68f1acfa57f7cfd257c" title="Enable write protection.">writeProtect</a>();</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___a_t45_d_bxxx_d.html#gad6f612447b1a85f14a158a1d38760d3d" title="Disable write protection.">readWrite</a>();</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        <span class="keyword">inline</span> int8_t <a class="code" href="group___a_t45_d_bxxx_d.html#ga8292738b97c74daaf517acc217f5a517" title="Get chip Select (CS) pin.">chipSelectPin</a>  () <span class="keyword">const</span>;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <span class="keyword">inline</span> int8_t <a class="code" href="group___a_t45_d_bxxx_d.html#gaa928ae16c2d143141c41311be0b36935" title="Get reset (RESET) pin.">resetPin</a>       () <span class="keyword">const</span>;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <span class="keyword">inline</span> int8_t <a class="code" href="group___a_t45_d_bxxx_d.html#ga201a8498c93265a1d0d3bf22a73595a4" title="Get write protect (WP) pin.">writeProtectPin</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keyword">private</span>:</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <span class="keyword">inline</span> uint8_t <a class="code" href="group___a_t45_d_bxxx_d.html#gaa2bf7253ba78a0b4f0ad343749810335" title="Compute page address hi byte.">pageToHiU8</a>(uint16_t page) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        <span class="keyword">inline</span> uint8_t <a class="code" href="group___a_t45_d_bxxx_d.html#ga35046b78934ed2077387e586ec036375" title="Compute page address lo byte.">pageToLoU8</a>(uint16_t page) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keyword">private</span>:</div>
<div class="line"><a name="l00499"></a><span class="lineno"><a class="code" href="struct_data_flash_1_1_addressing_infos.html">  499</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="struct_data_flash_1_1_addressing_infos.html" title="Dataflash read/write addressing infos.">AddressingInfos</a></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        {</div>
<div class="line"><a name="l00501"></a><span class="lineno"><a class="code" href="struct_data_flash_1_1_addressing_infos.html#ae7678c4b3630c7bdeb6ed2c194fdfa1c">  501</a></span>&#160;            uint8_t <a class="code" href="struct_data_flash_1_1_addressing_infos.html#ae7678c4b3630c7bdeb6ed2c194fdfa1c" title="Size of the buffer address bits.">bufferSize</a>[7]; </div>
<div class="line"><a name="l00502"></a><span class="lineno"><a class="code" href="struct_data_flash_1_1_addressing_infos.html#ad14429665aa340ec4e42f36aaede8135">  502</a></span>&#160;            uint8_t <a class="code" href="struct_data_flash_1_1_addressing_infos.html#ad14429665aa340ec4e42f36aaede8135" title="Size of the page address bits.">pageSize</a>[7];   </div>
<div class="line"><a name="l00503"></a><span class="lineno"><a class="code" href="struct_data_flash_1_1_addressing_infos.html#a957f595f9bb6d7cb8bf7ba065361cadc">  503</a></span>&#160;            uint8_t <a class="code" href="struct_data_flash_1_1_addressing_infos.html#a957f595f9bb6d7cb8bf7ba065361cadc" title="Size of the sector address bits (part of the page address).">sectorSize</a>[7]; </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        };</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div>
<div class="line"><a name="l00506"></a><span class="lineno"><a class="code" href="group___a_t45_d_bxxx_d.html#gaf0160ed46d9753fdc1980c256103cb18">  506</a></span>&#160;        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_data_flash_1_1_addressing_infos.html" title="Dataflash read/write addressing infos.">AddressingInfos</a> <a class="code" href="group___a_t45_d_bxxx_d.html#gaf0160ed46d9753fdc1980c256103cb18">m_infos</a>; </div>
<div class="line"><a name="l00508"></a><span class="lineno"><a class="code" href="class_data_flash.html#aee53d10e2326ca723383d20bb10f0901">  508</a></span>&#160;        int8_t <a class="code" href="class_data_flash.html#aee53d10e2326ca723383d20bb10f0901" title="Chip select pin (CS).">m_chipSelectPin</a>;    </div>
<div class="line"><a name="l00509"></a><span class="lineno"><a class="code" href="class_data_flash.html#a4a9ab38ecd5850fceb325db522b70264">  509</a></span>&#160;        int8_t <a class="code" href="class_data_flash.html#a4a9ab38ecd5850fceb325db522b70264" title="Reset pin (RESET).">m_resetPin</a>;         </div>
<div class="line"><a name="l00510"></a><span class="lineno"><a class="code" href="class_data_flash.html#a1eee765e1fcab32dfd1b8eb3b1a43cc2">  510</a></span>&#160;        int8_t <a class="code" href="class_data_flash.html#a1eee765e1fcab32dfd1b8eb3b1a43cc2" title="Write protect pin (WP).">m_writeProtectPin</a>;  </div>
<div class="line"><a name="l00512"></a><span class="lineno"><a class="code" href="class_data_flash.html#a05584daa30579009ef04e44ba58411ba">  512</a></span>&#160;        uint8_t <a class="code" href="class_data_flash.html#a05584daa30579009ef04e44ba58411ba" title="SPI register backup.">m_SPCR</a>;             </div>
<div class="line"><a name="l00513"></a><span class="lineno"><a class="code" href="class_data_flash.html#af19724198d3471ced95eabfa496b5653">  513</a></span>&#160;        uint8_t <a class="code" href="class_data_flash.html#af19724198d3471ced95eabfa496b5653" title="SPI register backup.">m_SPSR</a>;             </div>
<div class="line"><a name="l00515"></a><span class="lineno"><a class="code" href="class_data_flash.html#a6205043d150d35a1d3dfd5eb31b61b47">  515</a></span>&#160;        uint8_t <a class="code" href="class_data_flash.html#a6205043d150d35a1d3dfd5eb31b61b47" title="Size of the buffer address bits.">m_bufferSize</a>;       </div>
<div class="line"><a name="l00516"></a><span class="lineno"><a class="code" href="class_data_flash.html#a8381d195d4098c016267e2e3299776f6">  516</a></span>&#160;        uint8_t <a class="code" href="class_data_flash.html#a8381d195d4098c016267e2e3299776f6" title="Size of the page address bits.">m_pageSize</a>;         </div>
<div class="line"><a name="l00517"></a><span class="lineno"><a class="code" href="class_data_flash.html#a2e1a8a94e4d00e6e8601ac13c42e9f87">  517</a></span>&#160;        uint8_t <a class="code" href="class_data_flash.html#a2e1a8a94e4d00e6e8601ac13c42e9f87" title="Size of the sector address bits.">m_sectorSize</a>;       </div>
<div class="line"><a name="l00519"></a><span class="lineno"><a class="code" href="class_data_flash.html#adc50a826d2e1e240f32681df19b10fa5">  519</a></span>&#160;        <span class="keyword">enum</span> <a class="code" href="class_data_flash.html#a1ff2b1d071a8fbf2ef180f747a6225d9" title="Erase mode.">erasemode</a> <a class="code" href="class_data_flash.html#adc50a826d2e1e240f32681df19b10fa5" title="Erase mode - auto or manual.">m_erase</a>;     </div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="preprocessor">#ifdef AT45_USE_SPI_SPEED_CONTROL</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="preprocessor"></span>        <span class="keyword">enum</span> <a class="code" href="class_data_flash.html#a1ee9e8505f641255b5369299595dcc65" title="IO speed.">IOspeed</a> m_speed;       </div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="preprocessor"></span>};</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_data_flash_inlines_8h.html" title="File containing definitions for inline methods and functions for the Atmel DataFlash Arduino library...">DataFlashInlines.h</a>&quot;</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DATAFLASH_H_ */</span><span class="preprocessor"></span></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_52a67352ebc3c56a86e89746a43047f5.html">arduino-dataflash</a></li><li class="navelem"><a class="el" href="_data_flash_8h.html">DataFlash.h</a></li>
    <li class="footer">Generated on Sat Dec 8 2012 21:08:12 for arduino-dataflash by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.2 </li>
  </ul>
</div>
</body>
</html>
